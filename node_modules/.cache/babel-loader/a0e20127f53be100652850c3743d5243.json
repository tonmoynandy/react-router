{"ast":null,"code":"import _objectSpread from \"D:\\\\MY_WORK\\\\react-routing-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"D:\\\\MY_WORK\\\\react-routing-test\\\\src\\\\components\\\\Settings.js\";\nimport React from 'react';\nimport UserMenu from './UserMenu';\nimport { DbHelper } from '../DbHelper';\nimport { connect } from 'react-redux';\nimport Form from './elements/Form';\n\nclass Settings extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateProfileAction = e => {\n      if (e.valid === true) {\n        let userData = this.state.user;\n        userData = _objectSpread({}, userData, {\n          name: e.formValue.name\n        });\n        DbHelper.update('users', [[\"_id\", userData._id]], userData);\n        this.props.dispatch({\n          type: 'SET_AUTH_USER',\n          userData\n        });\n        this.setState({\n          'success': 'Profile is updated successfully'\n        });\n      } else {// alert('error');\n      }\n    };\n\n    this.state = {\n      errors: '',\n      success: '',\n      user: JSON.parse(sessionStorage.getItem(\"_u\")),\n      formConfig: {\n        name: 'profileform',\n        elements: {\n          'name': {\n            type: 'text',\n            value: '',\n            validation: ['required']\n          }\n        },\n        buttons: [{\n          type: 'submit',\n          value: 'Save',\n          cssClass: 'btn btn-success'\n        }]\n      }\n    };\n  }\n\n  componentDidMount() {\n    document.profileform.name.value = this.state.user.name;\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Settings\")), React.createElement(\"div\", {\n      className: \"col-7 text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(UserMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.success && React.createElement(\"div\", {\n      class: \"alert alert-success text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.state.success), this.state.errors && React.createElement(\"div\", {\n      class: \"alert alert-danger text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.errors))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Profile Update\"), React.createElement(\"div\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Form, {\n      config: this.state.formConfig,\n      onSubmit: this.updateProfileAction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Change Password\"), React.createElement(\"div\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      name: \"passwordform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Old Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"New Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Confirm Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      value: \"Save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nexport default connect()(Settings);","map":{"version":3,"sources":["D:/MY_WORK/react-routing-test/src/components/Settings.js"],"names":["React","UserMenu","DbHelper","connect","Form","Settings","Component","constructor","props","updateProfileAction","e","valid","userData","state","user","name","formValue","update","_id","dispatch","type","setState","errors","success","JSON","parse","sessionStorage","getItem","formConfig","elements","value","validation","buttons","cssClass","componentDidMount","document","profileform","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport UserMenu from './UserMenu';\r\nimport { DbHelper } from '../DbHelper';\r\nimport { connect } from 'react-redux';\r\nimport Form from './elements/Form';\r\nclass Settings extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            errors: '',\r\n            success: '',\r\n            user: JSON.parse(sessionStorage.getItem(\"_u\")),\r\n            formConfig: {\r\n                name: 'profileform',\r\n                elements: {\r\n                    'name': {\r\n                        type: 'text',\r\n                        value: '',\r\n                        validation: ['required']\r\n                    }\r\n                },\r\n                buttons: [\r\n                    {\r\n                        type: 'submit',\r\n                        value: 'Save',\r\n                        cssClass: 'btn btn-success'\r\n                    }\r\n                ]\r\n            },\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        document.profileform.name.value = this.state.user.name;\r\n    }\r\n    updateProfileAction = (e) => {\r\n        if (e.valid === true) {\r\n            let userData = this.state.user;\r\n            userData = {\r\n                ...userData,\r\n                name: e.formValue.name\r\n            };\r\n            DbHelper.update('users', [[\"_id\", userData._id]], userData);\r\n            this.props.dispatch({\r\n                type: 'SET_AUTH_USER',\r\n                userData\r\n            });\r\n            this.setState({ 'success': 'Profile is updated successfully' })\r\n        } else {\r\n            // alert('error');\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"row\">\r\n                    <div className=\"col-5\">\r\n                        <h4>Settings</h4>\r\n                    </div>\r\n                    <div className=\"col-7 text-right\">\r\n                        <UserMenu />\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        {this.state.success &&\r\n                            <div class=\"alert alert-success text-center\">\r\n                                {this.state.success}\r\n                            </div>\r\n                        }\r\n                        {this.state.errors &&\r\n                            <div class=\"alert alert-danger text-center\">\r\n                                {this.state.errors}\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body\">\r\n                                <h6 className=\"card-title\">Profile Update</h6>\r\n                                <div className=\"card-text\">\r\n                                    <Form config={this.state.formConfig} onSubmit={this.updateProfileAction} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body\">\r\n                                <h6 className=\"card-title\">Change Password</h6>\r\n                                <div className=\"card-text\">\r\n                                    <form name=\"passwordform\">\r\n                                        <div className=\"form-group\">\r\n                                            <label >Old Password</label>\r\n                                            <input type=\"password\" className=\"form-control\" />\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label >New Password</label>\r\n                                            <input type=\"password\" className=\"form-control\" />\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label >Confirm Password</label>\r\n                                            <input type=\"password\" className=\"form-control\" />\r\n                                        </div>\r\n                                    </form>\r\n                                    <div className=\"form-group\">\r\n                                        <input type=\"button\" className=\"btn btn-success\" value=\"Save\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\nexport default connect()(Settings);"]},"metadata":{},"sourceType":"module"}