{"ast":null,"code":"var _jsxFileName = \"D:\\\\MY_WORK\\\\react-routing-test\\\\src\\\\components\\\\home.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { DbHelper } from '../DbHelper';\nimport { connect } from 'react-redux';\nimport Form from './elements/Form';\n\nclass Home extends Component {\n  constructor() {\n    super();\n\n    this.submitHandeler = e => {\n      if (e.valid) {\n        let userData = DbHelper.find('users', [['email', this.state.formValue.email], ['password', this.state.formValue.password]]);\n\n        if (userData) {\n          this.props.dispatch({\n            type: 'SET_AUTH_USER',\n            userData\n          });\n          this.props.history.push('/dashboard');\n        } else {\n          this.setState({\n            'errors': 'Login failed: credentials mismatch'\n          });\n        }\n      }\n    };\n\n    this.state = {\n      formConfig: {\n        name: 'loginForm',\n        elements: {\n          'email': {\n            type: 'email',\n            value: '',\n            validation: ['required', 'email']\n          },\n          'password': {\n            type: 'password',\n            value: '',\n            validation: ['required']\n          }\n        },\n        buttons: [{\n          type: 'submit',\n          value: 'Login',\n          cssClass: 'btn btn-success'\n        }],\n        submitHandeler: null\n      },\n      errors: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.errors && React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.errors), React.createElement(Form, {\n      config: this.state.formConfig,\n      onSubmit: this.submitHandeler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/register',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"New User?\")))))), React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \" \"));\n  }\n\n}\n\nexport default connect()(Home);","map":{"version":3,"sources":["D:/MY_WORK/react-routing-test/src/components/home.js"],"names":["React","Component","Link","DbHelper","connect","Form","Home","constructor","submitHandeler","e","valid","userData","find","state","formValue","email","password","props","dispatch","type","history","push","setState","formConfig","name","elements","value","validation","buttons","cssClass","errors","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {DbHelper} from '../DbHelper';\r\nimport {connect} from 'react-redux';\r\nimport Form from './elements/Form';\r\nclass Home extends  Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      \r\n      formConfig: {\r\n        name: 'loginForm',\r\n        elements: {\r\n         \r\n          'email': {\r\n            type: 'email',\r\n            value: '',\r\n            validation: ['required', 'email']\r\n          },\r\n          'password': {\r\n            type: 'password',\r\n            value: '',\r\n            validation: ['required']\r\n          }\r\n        },\r\n        buttons: [\r\n          {\r\n            type: 'submit',\r\n            value: 'Login',\r\n            cssClass: 'btn btn-success'\r\n          }\r\n        ],\r\n        submitHandeler: null\r\n      },\r\n\r\n      errors:''\r\n    }\r\n  }\r\n  submitHandeler = (e) => {\r\n    if (e.valid) {\r\n      let userData = DbHelper.find('users',[\r\n        ['email', this.state.formValue.email],\r\n        ['password', this.state.formValue.password],\r\n      ]);\r\n\r\n      if (userData) {\r\n        \r\n        this.props.dispatch({\r\n          type: 'SET_AUTH_USER',\r\n          userData\r\n        });\r\n        this.props.history.push('/dashboard');\r\n      } else {\r\nthis.setState({'errors':'Login failed: credentials mismatch'});\r\n      }\r\n    }\r\n  }\r\n  render() {\r\nreturn (\r\n\r\n<div className=\"row\">\r\n<div className=\"col-md-2\"> </div>\r\n<div className=\"col-md-8\">\r\n  <div className=\"card\">\r\n  <div className=\"card-body\">\r\n  {this.state.errors &&\r\n          <div className=\"alert alert-danger\" >\r\n          {this.state.errors}\r\n          </div>\r\n          }\r\n  <Form config={this.state.formConfig} onSubmit={this.submitHandeler} />\r\n<div className=\"row\">\r\n         \r\n          <div className=\"col text-right\">\r\n        <Link to={'/register'}>New User?</Link>\r\n          </div>\r\n          </div>\r\n  \r\n</div>\r\n</div>\r\n</div>\r\n<div className=\"col-md-2\"> </div>\r\n</div>\r\n);\r\n  }\r\n}\r\nexport default connect()(Home);"]},"metadata":{},"sourceType":"module"}