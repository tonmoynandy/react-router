{"ast":null,"code":"var _jsxFileName = \"D:\\\\MY_WORK\\\\react-routing-test\\\\src\\\\components\\\\Register.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { DbHelper } from '../DbHelper';\n\nclass Register extends React.Component {\n  constructor() {\n    this.state = {\n      validation: {\n        rules: {\n          name: ['required'],\n          email: ['required', 'email'],\n          password: ['required']\n        },\n        messages: {},\n        valid: false\n      },\n      formValue: {},\n      successMessage: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Sign up\"), this.state.successMessage && React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.successMessage), React.createElement(\"form\", {\n      name: \"registerform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      placeholder: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), this.state.validation.messages.name && this.state.validation.messages.name.required && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.validation.messages.name.required)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      name: \"email\",\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), this.state.validation.messages.email && this.state.validation.messages.email.required && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.state.validation.messages.email.required), this.state.validation.messages.email && this.state.validation.messages.email.email && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.state.validation.messages.email.email)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), this.state.validation.messages.password && this.state.validation.messages.password.required && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.state.validation.messages.password.required))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.submitHandeler,\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Submit\")), React.createElement(\"div\", {\n      className: \"col text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Existing User?\")))))), React.createElement(\"div\", {\n      className: \"col-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["D:/MY_WORK/react-routing-test/src/components/Register.js"],"names":["React","Link","DbHelper","Register","Component","constructor","state","validation","rules","name","email","password","messages","valid","formValue","successMessage","render","required","submitHandeler"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {DbHelper} from '../DbHelper';\r\nclass Register extends React.Component {\r\n\r\nconstructor() {\r\n  this.state = {\r\n      \r\n      validation: {\r\n        rules: {\r\n         name:['required'],\r\n         email:['required','email'],\r\n         password:['required']\r\n        },\r\n        messages:{},\r\n        valid:false,\r\n      },\r\n      formValue:{},\r\n      successMessage:''\r\n    }\r\n}\r\n\r\nsubmitHandeler = ($event)=>{\r\n  $event.preventDefault();\r\n  const formData = {};\r\n    const errorMessages = {};\r\n    var formValidStatus = true;\r\n    const formElement =  Array.from(document.registerform.elements).map(({name,value})=>{\r\n      formData[name] = value;\r\n      let validation = this.state.validation.rules[name];\r\n      if (validation) {\r\n        errorMessages[name] = {};\r\n        if (validation.indexOf('required') > -1) {\r\n          if (value == '') {\r\n           errorMessages[name]['required']='field is required';\r\n           formValidStatus = false;\r\n          }\r\n        }\r\n        if (value !== '' && validation.indexOf('email') > -1) {\r\n         if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/).test(value)) {\r\n          errorMessages[name]['email']='Email is not valid';\r\n          formValidStatus = false;\r\n         }\r\n        }\r\n        if (value !== '' && validation.find((i)=> i.startsWith('min'))) {\r\n           let minValue = validation.find((i)=> i.startsWith('min')).split(':');\r\n           minValue = parseInt(minValue[1]);\r\n           if (value.length < minValue) {\r\n             errorMessages[name]['min']='minimum '+minValue+' character is required';\r\n             formValidStatus = false;\r\n           }\r\n        }\r\n        if (value !== '' && validation.find((i)=> i.startsWith('max'))) {\r\n           let maxValue = validation.find((i)=> i.startsWith('max')).split(':');\r\n           maxValue = parseInt(maxValue[1]);\r\n           if (value.length > maxValue) {\r\n             errorMessages[name]['max']='max '+maxValue+' character is required';\r\n             formValidStatus = false;\r\n           }\r\n        }\r\n      }\r\n      \r\n      return {\r\n        name:name,\r\n        value:value\r\n      }\r\n    });\r\n    setTimeout(()=>{\r\n      this.setState(prevState=>({\r\n            ...prevState,\r\n            validation:{\r\n              ...prevState.validation,\r\n              messages:errorMessages,\r\n              valid:formValidStatus,\r\n            },\r\n            formValue:formData\r\n          }));\r\n    if ( this.state.validation.valid === true) {\r\n       DbHelper.insert('users',this.state.formValue);\r\n       document.registerform.reset();\r\n       this.setState({'successMessage':'Welcome '+ this.state.formValue.name})\r\n    } else {\r\n      // alert('error');\r\n    }\r\n    },50);\r\n}\r\n\r\nrender() {\r\n  return (\r\n    <div className=\"row\">\r\n    <div className=\"col-2\"></div>\r\n    <div className=\"col-8\">\r\n    <div className=\"card\">\r\n    <div className=\"card-body\">\r\n          <h5 className=\"text-center\">Sign up</h5>\r\n          {this.state.successMessage &&\r\n          <div className=\"alert alert-success\" >\r\n          {this.state.successMessage}\r\n          </div>\r\n          }\r\n          <form name=\"registerform\">\r\n          <div className=\"form-group\">\r\n          <input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Name\" />\r\n          {(this.state.validation.messages.name && this.state.validation.messages.name.required) &&  \r\n<p>\r\n{this.state.validation.messages.name.required}\r\n</p>}\r\n          </div>\r\n          <div className=\"form-group\">\r\n          <input type=\"email\" className=\"form-control\" name=\"email\" placeholder=\"Email\" />\r\n          {(this.state.validation.messages.email && this.state.validation.messages.email.required) &&  \r\n<p>\r\n{this.state.validation.messages.email.required}\r\n</p>}\r\n{(this.state.validation.messages.email && this.state.validation.messages.email.email) &&  \r\n<p>\r\n{this.state.validation.messages.email.email}\r\n</p>\r\n}\r\n          </div>\r\n          <div className=\"form-group\">\r\n          <input type=\"password\" className=\"form-control\" name=\"password\" placeholder=\"Password\" />\r\n          {(this.state.validation.messages.password && this.state.validation.messages.password.required) &&  \r\n<p>\r\n{this.state.validation.messages.password.required}\r\n</p>}\r\n          </div>\r\n          \r\n          </form>\r\n          <div className=\"row\">\r\n          <div className=\"col\">\r\n          <button  onClick={this.submitHandeler} className=\"btn btn-primary\" >Submit</button>\r\n          </div>\r\n          <div className=\"col text-right\">\r\n          <Link to={'/'} >Existing User?</Link>\r\n          </div>\r\n          </div>\r\n    </div>\r\n    </div>\r\n    </div>\r\n    <div className=\"col-2\"></div>\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}